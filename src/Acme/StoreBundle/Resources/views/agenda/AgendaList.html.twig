{% extends 'AcmeStoreBundle::layout.html.twig' %}

{% block title %}MANAGE LIST  AGENDA{% endblock %}

{% block content_header '' %}

{% block content %}
    {% set version = constant('Symfony\\Component\\HttpKernel\\Kernel::MAJOR_VERSION') ~ '.' ~ constant('Symfony\\Component\\HttpKernel\\Kernel::MINOR_VERSION')%}
	
    <h1 class="title">Noticia  {% trans %}agenda_list_page{% endtrans %}</h1>
    	<a href="{{ path('acme_store_homepage', {}) }}" >{% trans %}menu_admin{% endtrans %}</a>
    	<a href="{{ path('acme_pre_store_agenda', {}) }}" >{% trans %}enter_agenda{% endtrans %}</a>
    	{% if pagination|length >0 %}
    		<ul>
    			<li>Titol: <input type="text" value="" id="titol" onblur="search(this.id,this.value)" />&nbsp; Subtitol: <input type="text" id="subtitol" value="" onblur="search(this.id,this.value)" /></li>
    		{% for agenda in pagination %}
    			<li>{{ agenda.titol}} {{ agenda.subtitol}}  {{ agenda.description}} {{ agenda.novetat}} {{ agenda.portada}} {{ agenda.dataFi|date('Y-m-d')}} {{ agenda.dataEntrada|date('Y-m-d')}} <img src="{{path}}{{ agenda.attachment}}" /> 	<a href="{{ path('edit_agenda', {'id' : agenda.id}) }}" >{% trans %}edit_agenda{% endtrans %}</a> <a href="{{ path('delete_agenda', {'id' : agenda.id}) }}" >{% trans %}delete_agenda{% endtrans %}</a></li> 
    		{% endfor %}
    		</ul>
    		<div class="pagerfanta" >
    			{{knp_pagination_render(pagination)}}
    		</div>
    	{% else %}
    	 <p>- There are no things </p>
    	{% endif %}
    
        {% if app.environment == 'dev' %}
           DEV
        {% endif %}
       <script>
function search(col,val){
	var path="{{pathlocal}}";
	window.localStorage.setItem('val_'+col,val);
	window.location.href=path+"/admin/secured/agenda/agenda_llistat/n."+col+" like .."+val+".,";
}
var titolval=window.localStorage.getItem('val_titol');
var subtitolval=window.localStorage.getItem('val_subtitol');
if(titolval!=null){
	document.getElementById('titol').value=titolval;
}

if(subtitolval!=null){
	document.getElementById('subtitol').value=subtitolval;
}
</script>
{% endblock %}
