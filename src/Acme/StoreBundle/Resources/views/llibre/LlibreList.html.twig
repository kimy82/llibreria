{% extends 'AcmeStoreBundle::layout.html.twig' %}

{% block title %}Llibreria 22@{% endblock %}

{% block content_header '' %}

{% block content %}
    {% set version = constant('Symfony\\Component\\HttpKernel\\Kernel::MAJOR_VERSION') ~ '.' ~ constant('Symfony\\Component\\HttpKernel\\Kernel::MINOR_VERSION')%}
	
    <h1 class="title">{% trans %}list_book_page_title{% endtrans %}</h1>
    	<a href="{{ path('acme_store_homepage', {}) }}" >{% trans %}menu_admin{% endtrans %}</a>
    	<a href="{{ path('acme_pre_store_llibre', {}) }}" >{% trans %}new_book{% endtrans %}</a>
    	{% if pagination|length >0 %}
    		<ul>
    			<li>Name: <input type="text" value="" id="name" onblur="search(this.id,this.value)" />&nbsp;
    		{% for llibre in pagination %}
    			<li>{{ llibre.dateEntrada|date('Y-m-d')}} {{ llibre.name}}  {{ llibre.description}} {{ llibre.price}}
    			 {% if llibre.suggerir == 0 %}
           			NO
        		 {% else %}
        		 	SI
        		 {% endif %}
    			  <img src="{{path}}{{ llibre.attachment}}" /> 	<a href="{{ path('edit_llibre', {'id' : llibre.id}) }}" >{% trans %}edit_book{% endtrans %}</a> <a href="{{ path('delete_llibre', {'id' : llibre.id}) }}" >{% trans %}delete_book{% endtrans %}</a></li> 
    		{% endfor %}
    		</ul>
    		<div class="pagerfanta" >
    			{{knp_pagination_render(pagination)}}
    		</div>
    	{% else %}
    	 <p>- There are no things </p>
    	{% endif %}
    
        {% if app.environment == 'dev' %}
           DEV
        {% endif %}
        
              <script>
				function search(col,val){
					var path="{{pathlocal}}";
					window.localStorage.setItem('val_llib_'+col,val);
					window.location.href=path+"/admin/secured/llibre/llibre_llistat/n."+col+" like .."+val+".,";
				}
				var nameval=window.localStorage.getItem('val_llib_name');
				
				if(nameval!=null){
					document.getElementById('name').value=nameval;
				}
				
				
			</script>
       
{% endblock %}
